<html>
<head>
    <script src="lastfmfunctions.js" type="text/javascript"></script>
	
 <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
</head>
<body>
	
	<script>
	$(function() {
		function log( message ) {
			$( "<div/>" ).text( message ).prependTo( "#log" );
			$( "#log" ).scrollTop( 0 );
		}

		$( "#artist" ).autocomplete({
			source: function( request, response ) {
			var url = "http://ws.audioscrobbler.com/2.0/?method=artist.search&artist=" + request.term + "&api_key=b25b959554ed76058ac220b7b2e0a026&format=json&callback=?";
				$.ajax({
					url: url,
					dataType: "json",
					success: function( data ) {
					console.log(data);
						if(data.results["opensearch:totalResults"]!=0) //no artists found
						{		
						response( $.map( data.results.artistmatches.artist, function( item ) {
							return {
								label: item.name,
								value: item.name
							}
						}));
						}
					}
				});
			},
			minLength: 2,
			select: function( event, ui ) {
				log( ui.item ?
					ui.item.label :
					"Nothing selected, input was " + this.value);
			},
			open: function() {
				$( this ).removeClass( "ui-corner-all" ).addClass( "ui-corner-top" );
			},
			close: function() {
				$( this ).removeClass( "ui-corner-top" ).addClass( "ui-corner-all" );
			}
		});
	});
	</script>

<script type="text/javascript">
 $(document).ready(function() {
	//getEventsByArtist("astrix",$('#test'));
	//getEventsByLatLong(40.714,-74.006,$('#test'),"Norah Jones");
	
	//partial artist code
	//getArtistsByPartialArtist("infected",$('#test'));
	
	
	//$('.dropdown-toggle').dropdown();
	});
</script>
<!--
<input type="text" data-dropdown="dropdown" id="artistName" onkeyup=getArtistsByPartialArtist(document.getElementById('artistName').value,$('#artists'))><br>

<div id="test-div">
        <li class="dropdown" data-dropdown="dropdown" >
            <a href="#" class="dropdown-toggle"></a>
            <ul id = "artists" class="dropdown-menu">
            </ul>
    </ul>
</div>
-->
<div class="demo">
<div class="ui-widget">
	<label for="artist">Enter Artist: </label>
	<input id="artist" />
</div>

<div class="ui-widget" style="margin-top:2em; font-family:Arial">
	Result:
	<div id="log" style="height: 200px; width: 300px; overflow: auto;" class="ui-widget-content"></div>
</div>

</div><!-- End demo -->



<div id="test">

</ul>

</div>
</body>
</html>